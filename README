# üöÄ API RESTful - Tienda de Perif√©ricos

Este repositorio contiene una API RESTful desarrollada en **Rust** orientada a la gesti√≥n del inventario de una tienda de perif√©ricos. El proyecto implementa un sistema de autenticaci√≥n, operaciones CRUD completas, base de datos local y est√° totalmente empaquetado para su despliegue mediante contenedores.

## ‚öôÔ∏è Tecnolog√≠as Utilizadas
* **Lenguaje:** Rust (v1.75+)
* **Framework Web:** Axum (As√≠ncrono y de alto rendimiento)
* **Base de Datos:** SQLite (gestionado v√≠a `sqlx`)
* **Seguridad:** Hasheo de contrase√±as con `bcrypt` y protecci√≥n de rutas mediante **Bearer Tokens (JWT simulaci√≥n)**.
* **Documentaci√≥n:** OpenAPI (Swagger UI) generado autom√°ticamente con `utoipa`.
* **Despliegue:** Dockerizado utilizando un entorno multi-etapa (Multi-stage build) para optimizar el peso de la imagen.

## üèóÔ∏è Arquitectura y Funcionamiento
La API est√° estructurada bajo el prefijo `/api/v1/`. Al iniciar el servidor, el sistema verifica la existencia del archivo de la base de datos `tarea.db`; de no existir, lo crea e inicializa las tablas necesarias (`users` y `productos`). 

Las rutas de inventario (productos) est√°n protegidas. Para interactuar con ellas, el flujo es el siguiente:
1. Se debe crear un usuario en el endpoint de `/registrar`.
2. Se inicia sesi√≥n en `/login` para obtener un `Token de Autorizaci√≥n`.
3. Dicho token se env√≠a en las cabeceras HTTP (`Authorization: Bearer <token>`) para poder consumir los m√©todos `GET`, `POST`, `PUT` y `DELETE` de productos.

## üì° Endpoints Disponibles

### P√∫blicos
* `GET /` : Redirige al panel interactivo de Swagger UI.
* `GET /api/v1/health` : Verifica el estado de salud del servidor.
* `POST /api/v1/registrar` : Hashea la contrase√±a y guarda un nuevo usuario.
* `POST /api/v1/login` : Valida credenciales y retorna el Token de acceso.

### Protegidos (Requieren Auth Token)
* `POST /api/v1/productos` : Inserta un nuevo producto (ej. Teclado Mec√°nico).
* `GET /api/v1/productos` : Obtiene el cat√°logo completo de productos.
* `PUT /api/v1/productos/{id}` : Actualiza la informaci√≥n de un producto existente.
* `DELETE /api/v1/productos/{id}` : Elimina un producto de la base de datos.

## üê≥ Ejecuci√≥n con Docker
La aplicaci√≥n puede ejecutarse en cualquier entorno que cuente con Docker instalado.

```bash
# 1. Descargar la imagen
docker pull tu_usuario_docker/api_buena:v1

# 2. Correr el contenedor
docker run -p 8080:8080 tu_usuario_docker/api_buena:v1