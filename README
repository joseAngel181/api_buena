# API - Tienda de Periféricos

Este repositorio contiene una API RESTful desarrollada en **Rust** orientada a la gestión del inventario de una tienda de periféricos. El proyecto implementa un sistema de autenticación, operaciones CRUD completas, base de datos local y está totalmente empaquetado para su despliegue mediante contenedores.

##Tecnologías Utilizadas
* **Lenguaje:** Rust (v1.75+)
* **Framework Web:** Axum (Asíncrono y de alto rendimiento)
* **Base de Datos:** SQLite (gestionado vía `sqlx`)
* **Seguridad:** Hasheo de contraseñas con `bcrypt` y protección de rutas mediante **Bearer Tokens (JWT simulación)**.
* **Documentación:** OpenAPI (Swagger UI) generado automáticamente con `utoipa`.
* **Despliegue:** Dockerizado utilizando un entorno multi-etapa (Multi-stage build) para optimizar el peso de la imagen.

##Arquitectura y Funcionamiento
La API está estructurada bajo el prefijo `/api/v1/`. Al iniciar el servidor, el sistema verifica la existencia del archivo de la base de datos `tarea.db`; de no existir, lo crea e inicializa las tablas necesarias (`users` y `productos`). 

Las rutas de inventario (productos) están protegidas. Para interactuar con ellas, el flujo es el siguiente:
1. Se debe crear un usuario en el endpoint de `/registrar`.
2. Se inicia sesión en `/login` para obtener un `Token de Autorización`.
3. Dicho token se envía en las cabeceras HTTP (`Authorization: Bearer <token>`) para poder consumir los métodos `GET`, `POST`, `PUT` y `DELETE` de productos.

##Endpoints Disponibles

### Públicos
* `GET /` : Redirige al panel interactivo de Swagger UI.
* `GET /api/v1/health` : Verifica el estado de salud del servidor.
* `POST /api/v1/registrar` : Hashea la contraseña y guarda un nuevo usuario.
* `POST /api/v1/login` : Valida credenciales y retorna el Token de acceso.

### Protegidos (Requieren Auth Token)
* `POST /api/v1/productos` : Inserta un nuevo producto (ej. Teclado Mecánico).
* `GET /api/v1/productos` : Obtiene el catálogo completo de productos.
* `PUT /api/v1/productos/{id}` : Actualiza la información de un producto existente.
* `DELETE /api/v1/productos/{id}` : Elimina un producto de la base de datos.

##Ejecución con Docker
La aplicación puede ejecutarse en cualquier entorno que cuente con Docker instalado.

```bash
# 1. Descargar la imagen
docker pull tu_usuario_docker/api_buena:v1

# 2. Correr el contenedor
docker run -p 8080:8080 tu_usuario_docker/api_buena:v1
